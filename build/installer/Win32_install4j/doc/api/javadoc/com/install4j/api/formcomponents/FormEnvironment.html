<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.5.0_14) on Thu Oct 30 17:18:55 CET 2008 -->
<TITLE>
FormEnvironment (install4j help)
</TITLE> <script type="text/javascript">
  function detectFrameset() {
    for(i = 0; i < parent.frames.length; i++) {
      if(parent.frames[i].name == "code" && parent.frames[i].MTMLoaded) {
        parent.frames[i].MTMTrack = true;
        setTimeout("parent.frames[" + i + "].MTMDisplayMenu()", 50);
        break;
      }
    }
  }
</script>

<META NAME="keywords" CONTENT="com.install4j.api.formcomponents.FormEnvironment interface">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../help_javadoc.css" TITLE="Style">

<!-- <SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="FormEnvironment (install4j help)";
}
</SCRIPT> -->
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="detectFrameset();"><h2>install4j API documentation</h2>

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.install4j.api.formcomponents</FONT>
<BR>
Interface FormEnvironment</H2>
<HR>
<DL>
<DT><PRE>public interface <B>FormEnvironment</B></DL>
</PRE>

<P>
The form environment gives access to form components in a form panel as well as to other design time
 or runtime services related to form components.
 <p>It provides access to the <tt>ComponentTuple</tt> of a form component
 as well as to the IDs that the framework assigns to form components.
 Furthermore, the form environment contains utility methods that can be used at design time.
 This class is passed to the containing screen as well as to every form component.
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>ej-technologies GmbH</DD>
<DT><B>See Also:</B><DD><A HREF="../../../../com/install4j/api/screens/FormPanelContainer.html#setFormPanel(javax.swing.JPanel, com.install4j.api.formcomponents.FormEnvironment)"><CODE>FormPanelContainer.setFormPanel(javax.swing.JPanel, FormEnvironment)</CODE></A>, 
<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html#setFormEnvironment(com.install4j.api.formcomponents.FormEnvironment)"><CODE>FormComponent.setFormEnvironment(FormEnvironment)</CODE></A></DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+1">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#addDesignTimeChangeListener(javax.swing.event.ChangeListener)">addDesignTimeChangeListener</A></B>(javax.swing.event.ChangeListener&nbsp;changeListener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If your form component would like to be notified when the list of form components changes at design time,
 you can add a change listener here.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/install4j/api/formcomponents/ComponentTuple.html" title="interface in com.install4j.api.formcomponents">ComponentTuple</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#getComponentTuple(com.install4j.api.formcomponents.FormComponent)">getComponentTuple</A></B>(<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html" title="interface in com.install4j.api.formcomponents">FormComponent</A>&nbsp;formComponent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the <tt>ComponentTuple</tt> associated with a form component.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#getDesignTimeName(com.install4j.api.formcomponents.FormComponent)">getDesignTimeName</A></B>(<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html" title="interface in com.install4j.api.formcomponents">FormComponent</A>&nbsp;formComponent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;At design time, the install4j GUI allows the user to name instances of form components in a form.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html" title="interface in com.install4j.api.formcomponents">FormComponent</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#getFormComponentById(java.lang.String)">getFormComponentById</A></B>(java.lang.String&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the form component of a certain ID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html" title="interface in com.install4j.api.formcomponents">FormComponent</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#getFormComponents()">getFormComponents</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns all form components that are contained in the same form.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#getId(com.install4j.api.formcomponents.FormComponent)">getId</A></B>(<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html" title="interface in com.install4j.api.formcomponents">FormComponent</A>&nbsp;formComponent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the ID that the framework associates with a form component.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/install4j/api/screens/Screen.html" title="interface in com.install4j.api.screens">Screen</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#getScreen()">getScreen</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the form screen associated with this form environment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#handleConsole(com.install4j.api.screens.Console)">handleConsole</A></B>(<A HREF="../../../../com/install4j/api/screens/Console.html" title="interface in com.install4j.api.screens">Console</A>&nbsp;console)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Handle console mode for all form components in a form.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#isDesignTime()">isDesignTime</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns whether the form component has been instantiated at design time.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#removeDesignTimeChangeListener(javax.swing.event.ChangeListener)">removeDesignTimeChangeListener</A></B>(javax.swing.event.ChangeListener&nbsp;changeListener)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove a change listener added with <tt>addDesignTimeChangeListener</tt>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#resetFormComponents()">resetFormComponents</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;All form components whose "Reset initialization on previous" property is selected,
 will be initialized again <b>when the screen is shown the next time</b>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#saveFormComponents()">saveFormComponents</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;All form components will be validated and their variables will be saved.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+1">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getFormComponents()"><!-- --></A><H3>
getFormComponents</H3>
<PRE>
<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html" title="interface in com.install4j.api.formcomponents">FormComponent</A>[] <B>getFormComponents</B>()</PRE>
<DL>
<DD>Returns all form components that are contained in the same form.
 Note that the <tt>setFormEnvironment</tt> is called twice at runtime
 and that only the second invocation passes a <tt>FormEnvironment</tt> that
 returns all form components when calling this method.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>an array of all form components or the empty array if the form is not fully initialized<DT><B>See Also:</B><DD><A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html#setFormEnvironment(com.install4j.api.formcomponents.FormEnvironment)"><CODE>FormComponent.setFormEnvironment(FormEnvironment)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getId(com.install4j.api.formcomponents.FormComponent)"><!-- --></A><H3>
getId</H3>
<PRE>
java.lang.String <B>getId</B>(<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html" title="interface in com.install4j.api.formcomponents">FormComponent</A>&nbsp;formComponent)</PRE>
<DL>
<DD>Get the ID that the framework associates with a form component.
 When form components refer to other form components and wish to transfer
 those associations between design time and runtime, they have to store a
 IDs rather than the form components themselves. The translation between IDs
 and form components is provided by the form environment.
 <p>
 The ID can be transformed back to the form component with the
 <tt>getFormComponentById</tt> method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>formComponent</CODE> - the form component whose ID should be returned
<DT><B>Returns:</B><DD>the ID<DT><B>See Also:</B><DD><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#getFormComponentById(java.lang.String)"><CODE>getFormComponentById(String)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getFormComponentById(java.lang.String)"><!-- --></A><H3>
getFormComponentById</H3>
<PRE>
<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html" title="interface in com.install4j.api.formcomponents">FormComponent</A> <B>getFormComponentById</B>(java.lang.String&nbsp;id)</PRE>
<DL>
<DD>Get the form component of a certain ID. See the
 <tt>getId</tt> method for more details.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the ID of the form component
<DT><B>Returns:</B><DD>the form component or <tt>null</tt> if no such ID can be found.<DT><B>See Also:</B><DD><A HREF="../../../../com/install4j/api/formcomponents/FormEnvironment.html#getId(com.install4j.api.formcomponents.FormComponent)"><CODE>getId(FormComponent)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getComponentTuple(com.install4j.api.formcomponents.FormComponent)"><!-- --></A><H3>
getComponentTuple</H3>
<PRE>
<A HREF="../../../../com/install4j/api/formcomponents/ComponentTuple.html" title="interface in com.install4j.api.formcomponents">ComponentTuple</A> <B>getComponentTuple</B>(<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html" title="interface in com.install4j.api.formcomponents">FormComponent</A>&nbsp;formComponent)</PRE>
<DL>
<DD>Get the <tt>ComponentTuple</tt> associated with a form component.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>formComponent</CODE> - the form component whose <tt>ComponentTuple</tt> should be returned
<DT><B>Returns:</B><DD>the <tt>ComponentTuple</tt></DL>
</DD>
</DL>
<HR>

<A NAME="handleConsole(com.install4j.api.screens.Console)"><!-- --></A><H3>
handleConsole</H3>
<PRE>
boolean <B>handleConsole</B>(<A HREF="../../../../com/install4j/api/screens/Console.html" title="interface in com.install4j.api.screens">Console</A>&nbsp;console)
                      throws <A HREF="../../../../com/install4j/api/context/UserCanceledException.html" title="class in com.install4j.api.context">UserCanceledException</A></PRE>
<DL>
<DD>Handle console mode for all form components in a form. This method
 has to be called at some point in the <tt>handleConsole</tt> method
 of the containing screen, otherwise the <tt>handleConsole</tt> method of the
 <tt>FormComponent</tt> will not be called.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>console</CODE> - the <tt>Console</tt> object as passed to the <tt>handleConsole</tt> method of the containing screen.
<DT><B>Returns:</B><DD>whether the installer should continue or not. This value should be passed on in the
 <tt>handleConsole</tt> method of the containing screen which is the only place where this method should be called.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../com/install4j/api/context/UserCanceledException.html" title="class in com.install4j.api.context">UserCanceledException</A></CODE> - if the user cancels a question or notice. This exception can be passed on to the framework.<DT><B>See Also:</B><DD><A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html#handleConsole(com.install4j.api.screens.Console)"><CODE>FormComponent.handleConsole(com.install4j.api.screens.Console)</CODE></A>, 
<A HREF="../../../../com/install4j/api/screens/Screen.html#handleConsole(com.install4j.api.screens.Console)"><CODE>Screen.handleConsole(com.install4j.api.screens.Console)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="isDesignTime()"><!-- --></A><H3>
isDesignTime</H3>
<PRE>
boolean <B>isDesignTime</B>()</PRE>
<DL>
<DD>Returns whether the form component has been instantiated at design time.
 At design time, the context passed to a form component is <tt>null</tt>.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><tt>true</tt> or <tt>false</tt>.</DL>
</DD>
</DL>
<HR>

<A NAME="addDesignTimeChangeListener(javax.swing.event.ChangeListener)"><!-- --></A><H3>
addDesignTimeChangeListener</H3>
<PRE>
void <B>addDesignTimeChangeListener</B>(javax.swing.event.ChangeListener&nbsp;changeListener)</PRE>
<DL>
<DD>If your form component would like to be notified when the list of form components changes at design time,
 you can add a change listener here. Only a weak reference to the listener is held,
 so the garbage collection of your form component is not influenced.
 <p>This method has no effect at runtime.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>changeListener</CODE> - the listener</DL>
</DD>
</DL>
<HR>

<A NAME="removeDesignTimeChangeListener(javax.swing.event.ChangeListener)"><!-- --></A><H3>
removeDesignTimeChangeListener</H3>
<PRE>
void <B>removeDesignTimeChangeListener</B>(javax.swing.event.ChangeListener&nbsp;changeListener)</PRE>
<DL>
<DD>Remove a change listener added with <tt>addDesignTimeChangeListener</tt>.
 <p>This method has no effect at runtime.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>changeListener</CODE> - the listener</DL>
</DD>
</DL>
<HR>

<A NAME="getDesignTimeName(com.install4j.api.formcomponents.FormComponent)"><!-- --></A><H3>
getDesignTimeName</H3>
<PRE>
java.lang.String <B>getDesignTimeName</B>(<A HREF="../../../../com/install4j/api/formcomponents/FormComponent.html" title="interface in com.install4j.api.formcomponents">FormComponent</A>&nbsp;formComponent)</PRE>
<DL>
<DD>At design time, the install4j GUI allows the user to name instances of form components in a form.
 You can retrieve that name with this method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>formComponent</CODE> - the form component whose name should be returned.
<DT><B>Returns:</B><DD>name the design time name or <tt>null</tt> if called at runtime</DL>
</DD>
</DL>
<HR>

<A NAME="getScreen()"><!-- --></A><H3>
getScreen</H3>
<PRE>
<A HREF="../../../../com/install4j/api/screens/Screen.html" title="interface in com.install4j.api.screens">Screen</A> <B>getScreen</B>()</PRE>
<DL>
<DD>Get the form screen associated with this form environment.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the screen</DL>
</DD>
</DL>
<HR>

<A NAME="resetFormComponents()"><!-- --></A><H3>
resetFormComponents</H3>
<PRE>
void <B>resetFormComponents</B>()</PRE>
<DL>
<DD>All form components whose "Reset initialization on previous" property is selected,
 will be initialized again <b>when the screen is shown the next time</b>.
 Usually, initialization is only reset when the user presses the "Back button" on the
 form screen. If you implement a loop and want to reset the initialization, you
 have to call this method. The following code retrieves a form screen by ID and resets its form components:
 <pre>

 String screenId = ...
 // must be a form screen for the cast to work
 FormPanelContainer formPanelContainer = (FormPanelContainer)context.getScreenById(id);
 formPanelContainer.getFormEnvironment().resetFormComponents()

 </pre>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="saveFormComponents()"><!-- --></A><H3>
saveFormComponents</H3>
<PRE>
boolean <B>saveFormComponents</B>()</PRE>
<DL>
<DD>All form components will be validated and their variables will be saved.
 This is what happens automatically when the user clicks "Next" just before the validation expression
 of the screen is evaluated. If you need save the form componments to variables whil the screen is being shown,
 you can use this method. For example, a button form component might require some variables of other form components
 to be set to the currently entered values.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>if the validation was sucessful. If <tt>false</tt>, only form components up to the offending form component
 are saved.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<HR>

</BODY>
</HTML>
