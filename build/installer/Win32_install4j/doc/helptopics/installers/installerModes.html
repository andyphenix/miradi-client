<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Installer Modes</title>
<link href="../../../doc/help.css" type="text/css" rel="stylesheet">
<script type="text/javascript">
      function detectFrameset() {
        framesetpage="../../../doc/indexRedirect.html";
        thispage=window.location.href;
        if (thispage.indexOf('://')<0) {thispage="://"+thispage;};
        prefix=thispage.substring(0,thispage.lastIndexOf('://'));
        suffix=thispage.substring(thispage.lastIndexOf('://')+3,thispage.length);
        if (parent.location.href==window.location.href) {
          parent.location.href=framesetpage+"?"+prefix+"&&&"+suffix
        } else {
          for(i = 0; i < parent.frames.length; i++) {
            if(parent.frames[i].name == "code" && parent.frames[i].MTMLoaded) {
              parent.frames[i].MTMTrack = true;
              setTimeout("parent.frames[" + i + "].MTMDisplayMenu()", 50);
              break;
            }
          }
        }
      }
    
    </script>
</head>
<body onload="detectFrameset()">
<table width="100%" border="0">
<tr>
<td>
<h2>Installer Modes</h2>
</td><td valign="top" align="right"><a href="../../../doc/helptopics/installers/$folder$.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_up.gif"></a>&nbsp;
            <a href="../../../doc/helptopics/installers/options.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_next.gif"></a>&nbsp;
            </td>
</tr>
</table>
<hr>
<br>
<div>
    
<h3>1. Introduction</h3>
    
      Installers generated by install4j can be run in three modes:
    <br>
    
<ul>
<li>
<font color="#5A4E87"><b>GUI mode</b></font>
<br>
        The default mode for installer and uninstaller executables is to display a GUI installer or uninstaller.
      </li>
<li>
<font color="#5A4E87"><b>Console mode</b></font>
<br>
       If the installer is invoked with the <tt>-c</tt> argument, the interaction with the user
       is performed in the terminal from which the installer was invoked. The same applies to the uninstaller.
      </li>
<li>
<font color="#5A4E87"><b>Unattended mode</b></font>
<br>
        If the installer is invoked with the <tt>-q</tt> argument, there is no interaction with the
        user, the installation is performed automatically with the default values. The same applies to the uninstaller.
      </li>
</ul>
    
<p>
      The screen flow and the action sequence is executed in the same way for all three modes. If
      some actions or screens should not be traversed for console or unattended installations,
      you can use the methods <code>context.isConsole()</code> and <code>context.isUnattended()</code>
      in their "Condition expression" properties.
    </p>
    
<p>
      Also see the <a href="../../../doc/helptopics/installers/options.html">command line options</a> reference
      for installers.
    </p>

    
<a name="console"></a>
    
<h3>2. Console mode</h3>
    
<p>
      Installers generated by install4j can perform console installations, unless this feature has
      been disabled in the
      <a href="../../../doc/steps/installerGui/applications.html">application configuration</a> of the
      <a href="../../../doc/steps/installerGui/installerGui.html">Installer step</a>.
      In order to start a console installation, the installer has to be invoked with the
      <tt>-c</tt> argument.
    </p>
    
<p>
      All standard screens in install4j present their information on the console and
      allow the user to enter all information as in the GUI installer. Not all messages in the
      GUI installer are displayed to the console installer, for each screen the subtitle is
      displayed as the first message. All standard screens in install4j have a question as their
      subtitle, if you add customizable screens to the <a href="../../../doc/steps/installerGui/screensAndActions.html">screen sequence</a>,
      you should phrase their subtitles as questions in order to create a consistent user experience for the
      console installer.
    </p>
    
<p>
      Also, <a href="../../../doc/steps/installerGui/formComponents.html">form screens</a> are fully mapped
      to console installers, each form component is displayed on the console, form components that
      expect user input will allow the users to modify or enter values.
    </p>
    
<p>
      On Microsoft Windows the information of whether an executable is a GUI executable or a console executable has to be 
      statically compiled into the executable. Installers are GUI executables, otherwise a console would be displayed
      when starting the installer from the explorer. This is also the reason why the JRE supplies both 
      the <b><tt>java.exe</tt></b> (console) and the <b><tt>javaw.exe</tt></b> (GUI) on Windows.
    </p>
    
<p>      
      Since Windows XP there is a way for a GUI executable to attach to a console from which 
      it was started. GUI executables are started in the background by default, therefore you have to 
      use the start command like this to start it in the foreground and be able to enter information:
      <pre>    
        start /wait installer.exe -c
      </pre>      
      On older Windows versions a new console is opened.  
    </p>
    
<p> 
    
</p>
    
<p>
      If you develop new screens or form components, you have to override the method
      <pre>
        boolean handleConsole(Console console) throws UserCanceledException
      </pre>
      Displaying default data on the console and requesting user input is made easy with the <tt>Console</tt>
      class that is passed as a parameter.
    </p>

    
<a name="unattended"></a>
    
<h3>3. Unattended mode</h3>
    
<p>
      Installers generated by install4j can perform unattended installations, unless this feature has
      been disabled on the
      <a href="../../../doc/steps/installerGui/applications.html">application configuration</a> of the
      <a href="../../../doc/steps/installerGui/installerGui.html">Installer step</a>.
      In order to start an unattended installation, the installer has to be invoked with the
      <tt>-q</tt> argument. The installer will perform the installation as if the user had accepted
      all default settings.
    </p>
    
<p>
      There is no user interaction on the terminal. In all cases, where the installer would have
      asked the user whether to overwrite an existing file, the installer will not overwrite it.
      You can change this behavior by passing <tt>-overwrite</tt> as a parameter to
      the installer. In this case, the installer will overwrite such files. For the standard case, it
      is recommended to fine-tune the
      <a href="../../../doc/steps/files/definition/steps/installOptions.html">overwrite policy</a>
      in the distribution tree instead, so that this situation never arises.
    </p>
    
<p>
      The installer will install the application to the default installation directory, unless you
      pass the <tt>-dir</tt> parameter to the installer. The parameter after <tt>-dir</tt>
      must be the desired installation directory. Example:
      <pre>
      installer.exe -q -dir "d:\myapps\My Application"
      </pre>
    
</p>
    
<p>
      For the unattended mode of an installer, <a href="../../../doc/helptopics/installers/responseFile.html">response files</a> are
      an important instrument to pre-define user input.
    </p>
    
<p>
      On Windows, the output of the installer is not printed to the command line for unattended installation.
      If you pass the <tt>-console</tt> parameter after the <tt>-q</tt> parameter, a console
      will be allocated the displays the output to the user. This is useful for debugging purposes.
    </p>
    
<p>
      If the installation was successful, the exit code of the installer will be <tt>0</tt>, if no suitable JRE
      could be found it will be <tt>83</tt>, for other types of failure it will be <tt>1</tt>.
    </p>
    
<p>
      If you develop new screens or form components, you have to override the method
      <pre>
        boolean handleUnattended()
      </pre>
      in order to support unattended installations.
    </p>
  
</div>
<br>
<hr>
<table width="100%" border="0">
<tr>
<td></td><td valign="top" align="right"><a href="../../../doc/helptopics/installers/$folder$.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_up.gif"></a>&nbsp;
            <a href="../../../doc/helptopics/installers/options.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_next.gif"></a>&nbsp;
            </td>
</tr>
</table>
</body>
</html>
