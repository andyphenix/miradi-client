<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Updates</title>
<link href="../../../doc/help.css" type="text/css" rel="stylesheet">
<script type="text/javascript">
      function detectFrameset() {
        framesetpage="../../../doc/indexRedirect.html";
        thispage=window.location.href;
        if (thispage.indexOf('://')<0) {thispage="://"+thispage;};
        prefix=thispage.substring(0,thispage.lastIndexOf('://'));
        suffix=thispage.substring(thispage.lastIndexOf('://')+3,thispage.length);
        if (parent.location.href==window.location.href) {
          parent.location.href=framesetpage+"?"+prefix+"&&&"+suffix
        } else {
          for(i = 0; i < parent.frames.length; i++) {
            if(parent.frames[i].name == "code" && parent.frames[i].MTMLoaded) {
              parent.frames[i].MTMTrack = true;
              setTimeout("parent.frames[" + i + "].MTMDisplayMenu()", 50);
              break;
            }
          }
        }
      }
    
    </script>
</head>
<body onload="detectFrameset()">
<table width="100%" border="0">
<tr>
<td>
<h2>Updates</h2>
</td><td valign="top" align="right"><a href="../../../doc/helptopics/installers/jre.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_previous.gif"></a>&nbsp;
            <a href="../../../doc/helptopics/installers/$folder$.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_up.gif"></a>&nbsp;
            <a href="../../../doc/helptopics/installers/errors.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_next.gif"></a>&nbsp;
            </td>
</tr>
</table>
<hr>
<br>
<div>
    
<h3>1. Introduction</h3>
    
      installers generated by install4j actively handle updates.
      On the <a href="../../../doc/steps/installerGui/updateOptions.html">Update Options</a> tab in the
      installer section, you can configure how an installer should behave in the event of an update.
      An update occurs when the user installs an application into a directory where an installation with the
      same application id already exists.
    <br>
    
<p>
      
<img style="vertical-align: middle" align="middle" border="0" src="../../../doc/images/update_options.png">
    </p>
    
<p>
      Typically, minor upgrades of an application should be installed into the same directory as earlier
      installations. The default behavior of install4j is to suggest the previous installation directory
      and program group, so that the user is guided into installing the application into the same directory.
      If this behavior is not desired, you can
      <a href="../../../doc/steps/installerGui/updateOptions.html">switch off these suggestions or change the application id</a>.
    </p>
    
<h3>2. Updates into the same installation directory</h3>
    
<p>
      The following points are of interest with respect to updates into the same installation directory:
    </p>
    
<ul>
<li>
        Generated installers will refuse to install on top of installations with a different
        application ID by default. You can change this behavior on the "Installation location" screen.
        <p>
          Note: installers generated with install4j&nbsp;&lt;=&nbsp;3.0.x do no have
          an application ID, it is always possible to install on top of such an
          installation.
        </p>
      
</li>
<li>
        Generated installers will detect if any of the previously installed launchers are
        still running and will ask the user to shutdown these applications. This happens when the
        "Install files" action is executed.
      </li>
<li>
        Deployed services will be stopped and uninstalled before the installation. This happens when the
        "Install files" action is executed. You can optionally stop your services earlier
        with the "Stop a service" action if your update process requires it.
      </li>
<li>
        During an update, the installation databases will be merged, so that files, menu entries,
        file associations, etc. of old installations can still be uninstalled when the
        uninstaller is executed.
      </li>
<li>
        After an update, only the (optional) uninstall actions of the newer installation will
        be executed when the uninstaller is executed. However, the auto-uninstall actions
        from previous installations will be executed, too (for example the uninstallation of a
        service that is automatically registered by an "Install service" action during installation).
      </li>
</ul>
    
<p>
      If you would like to uninstall the previous installation before installing any new files,
      you can add the "Uninstall previous installation" action before the "Install files" action.
      In this context, the
      <a href="../../../doc/steps/files/definition/steps/uninstallOptions.html">uninstallation policies</a> that exclude
      updates are of interest. With these uninstallation policies you can preserve
      certain files for updates, but uninstall them when the user manually invokes the uninstaller.
      The uninstaller invoked by the "Uninstall previous installation" action is running in
      unattended mode. You can use <code>context.isUninstallForUpgrade()</code> to exclude
      certain actions for an update uninstaller.
    </p>

    
<h3>3. Add-on installers</h3>
    
<p>
      For distributing enhancements and patches, install4j offers the add-on installer type that can be configured on the
      <a href="../../../doc/steps/installerGui/updateOptions.html">Update Options</a> tab in the
      installer section.
    </p>
    
<p>
      An add-on installer will only install on top of an installation of a specified
      application id. It does not have a separate uninstaller.
    </p>
  
</div>
<br>
<hr>
<table width="100%" border="0">
<tr>
<td></td><td valign="top" align="right"><a href="../../../doc/helptopics/installers/jre.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_previous.gif"></a>&nbsp;
            <a href="../../../doc/helptopics/installers/$folder$.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_up.gif"></a>&nbsp;
            <a href="../../../doc/helptopics/installers/errors.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_next.gif"></a>&nbsp;
            </td>
</tr>
</table>
</body>
</html>
