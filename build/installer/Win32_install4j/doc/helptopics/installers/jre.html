<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>How Installers Find a JRE</title>
<link href="../../../doc/help.css" type="text/css" rel="stylesheet">
<script type="text/javascript">
      function detectFrameset() {
        framesetpage="../../../doc/indexRedirect.html";
        thispage=window.location.href;
        if (thispage.indexOf('://')<0) {thispage="://"+thispage;};
        prefix=thispage.substring(0,thispage.lastIndexOf('://'));
        suffix=thispage.substring(thispage.lastIndexOf('://')+3,thispage.length);
        if (parent.location.href==window.location.href) {
          parent.location.href=framesetpage+"?"+prefix+"&&&"+suffix
        } else {
          for(i = 0; i < parent.frames.length; i++) {
            if(parent.frames[i].name == "code" && parent.frames[i].MTMLoaded) {
              parent.frames[i].MTMTrack = true;
              setTimeout("parent.frames[" + i + "].MTMDisplayMenu()", 50);
              break;
            }
          }
        }
      }
    
    </script>
</head>
<body onload="detectFrameset()">
<table width="100%" border="0">
<tr>
<td>
<h2>How Installers Find a JRE</h2>
</td><td valign="top" align="right"><a href="../../../doc/helptopics/installers/responseFile.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_previous.gif"></a>&nbsp;
            <a href="../../../doc/helptopics/installers/$folder$.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_up.gif"></a>&nbsp;
            <a href="../../../doc/helptopics/installers/updates.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_next.gif"></a>&nbsp;
            </td>
</tr>
</table>
<hr>
<br>
<div>
    Installers generated by install4j are native and can start running without a JRE. However, the installer
    itself requires a JRE in order to perform its work and so the first action of the installer is to locate
    a JRE that is suitable for both the installer and your application. In this process it performs the following steps:
    <ul>
<li>
        
<b>Look for a statically bundled JRE</b>. If a statically bundled JRE is
        included with the installer, it will unpack it and use it. First, this JRE is unpacked
        to a temporary directory, later it is copied to a location that depends on
        whether the bundled JRE is configured as shared or not.
        <ul>
<li>
<font color="#5A4E87"><b>Not shared</b></font>
<br>
            It is copied to the <i><tt>jre</tt></i> directory in the installation
            directory of your application. No other installer generated by install4j
            will find this JRE. It will not be made publically available (e.g. in the
            Windows registry).
          </li>
<li>
<font color="#5A4E87"><b>Shared</b></font>
<br>
            
<p>
              It is copied to the <i><tt>i4j_jres</tt></i> directory in a common folder which depends on the operating system:
            </p>
            
<ul>
<li>
                
<i><tt>C:\Program Files\Common Files</tt></i> on Microsoft Windows with an English locale.
              </li>
<li>
                
<i><tt>/opt</tt></i> if it exists, otherwise <i><tt>/usr/local</tt></i> on Unix.
              </li>
</ul>
            
<p>
              If the above folder is not writable, the <i><tt>i4j_jres</tt></i> directory will be created in the
              use home directory and the shared JRE will only be shared for the current user.
            </p>
            
<p>
              Other installers generated by install4j will find this JRE. It will not be made publically available
              (e.g. in the Windows registry). For each Java version, only one such JRE can be installed.
              Shared JREs are never uninstalled.
            </p>
          
</li>
</ul>
        
<p>
          Your application will also use the JRE selected by the installer.
        </p>
      
</li>
<li>
        
<b>Look for a suitable JRE in the configured search sequence</b>. The installer uses the same
        search sequence and Java version contraints as your launchers which are
        <a href="../../../doc/steps/general/javaVersion.html">configured for the entire project</a>.
        The most important search sequence element in this respect is the "Search Windows registry and standard locations" entry.
        On Microsoft Windows the registry contains information on installed JREs, on Unix platforms there is a number
        of standard locations which are checked, on Mac OS X the location of installed JREs
        is always the same.
      </li>
<li>
        If no JRE has been found, the installer notifies the user
        <p>
          
<img style="vertical-align: middle" align="middle" border="0" src="../../../doc/images/installer_no_jre_found.png">
        </p>
        and offers the following options:
        <ul>
<li>
           
<p>
              Download a dynamically bundled JRE
           </p>
            
<p>
              
<img style="vertical-align: middle" align="middle" border="0" src="../../../doc/images/installer_jre_download.png">
            </p>
            
<p>
             as configured in the <a href="../../../doc/steps/media/steps/bundledJre.html">Bundled JRE</a> step
             of the <a href="../../../doc/steps/media/wizard.html">media wizard</a>.
            </p>
          
</li>
<li>Manually locate a JRE</li>
<li>Cancel the installation</li>
</ul>
        
<p>
          You can force the installer to skip the first two steps and show this dialog immediately
          with the <tt>-manual</tt>
          <a href="../../../doc/helptopics/installers/options.html">command line parameter</a>.
        </p>
      
</li>
</ul>
  
</div>
<br>
<hr>
<table width="100%" border="0">
<tr>
<td></td><td valign="top" align="right"><a href="../../../doc/helptopics/installers/responseFile.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_previous.gif"></a>&nbsp;
            <a href="../../../doc/helptopics/installers/$folder$.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_up.gif"></a>&nbsp;
            <a href="../../../doc/helptopics/installers/updates.html"><img vspace="0" align="center" border="0" src="../../../doc/images/help_next.gif"></a>&nbsp;
            </td>
</tr>
</table>
</body>
</html>
