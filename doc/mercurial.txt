Windows users:

- Download and install putty
- Request ssh access on benetech04
- Request that you be added to the miradi group on benetech04
- Get Jake/Ron to help you get putty working with a keypair
- Download and install mercurial
- Add mercurial to the path
- Create mercurial.ini in the mercurial program directory, if it doesn't exist
- Add the following to mercurial.ini:
  [ui]
  ssh="path-to\plink.exe" -ssh -l yourusername -i "path-to\private-key.ppk"
  username=First Last <email@address>
  (where path-to, yourusername, private-key and First Last are your values)
- Verify by running "hg showconfig". There should be a ui.ssh entry.
(Skip to common section below)

Linux users:
- Install ssh and create a private key
- Request ssh access on benetech04
- Request that you be added to the miradi group on benetech04
- Make sure you can ssh to benetech04
- Install mercurial, ideally via normal distro repository (apt, rpm)
- Add the following to ~/.hgrc (create it if it doesn't exist)
  [ui]
  username=First Last <email@address>
  (where path-to, yourusername, private-key and First Last are your values)
(Skip to common section below)

Mac users:
- Request ssh access on benetech04
- Request that you be added to the miradi group on benetech04
- Make sure you can ssh to benetech04
- Download and install mercurial
- Add the following to ~/.hgrc (create it if it doesn't exist)
  [ui]
  username=First Last <email@address>
  (where path-to, yourusername, private-key and First Last are your values)
(Skip to common section below)


Common section:
- On the server, in your home directory, create a file named .hgrc with:
  [trusted]
  groups=miradi
  
  (NOTE: this is case-sensitive)
- Create a new miradi-hg directory, and try:
  hg clone -v ssh://subversion.benetech.org//opt/hg/Miradi/miradi
- You should start to see output like:
  destination directory: miradi
  requesting all changes
  adding changesets
- It should take about 10 minutes to get to "adding file changes"
- After another 10-20 minutes, you should be back to command prompt
- This will have created a miradi directory inside miradi-hg
- Install the MercurialEclipse plugin: 
  http://javaforge.com/project/HGE#download
- In eclipse, create a new workspace in your miradi-hg directory
- Windows users only: Window/Prefs/Team/Mercurial: browse so the 
  mercurial command is the one you installed earlier 
- Create a new Java project, named miradi. 
  It should adopt the existing project and 
  should automatically associate it with mercurial
- If you get an error when pushing due to multiple heads:
  1. Cancel the push
  2. Switch to Java perspective
  3. Select the top-level miradi project in the package tree
  4. Right-click/Team/Rebase...
  5. Accept all the defaults and hit OK/Rebase
  6. If that works, you should be able to push.
  7. If that did not work, do Right-click/Team/Merge...
  8. You should see an entry in the list above the bold item.
     Select it, and say merge/ok
  9. If there are conflicts, you will have to resolve them, 
     similar to how was done in svn
  10. When there are no conflicts, a merge commit dialog will come up
  11. Accept the default commit description and hit ok
  12. Now push your changesets, including this new merge commit
  


For reference as needed:
  http://mercurial.selenic.com/wiki/AccessingSshRepositoriesFromWindows
  http://the.earth.li/~sgtatham/putty/0.58/htmldoc/Chapter7.html
  http://mercurial.selenic.com/wiki/Trust

  
